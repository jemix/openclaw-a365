# OpenClaw A365 Channel Environment Variables
# Copy this file to .env and fill in your credentials
#
# Quick Start:
#   1. cp .env.example .env
#   2. Fill in ALL required values below
#   3. docker-compose up -d

# ===========================================
# MODEL CONFIGURATION
# ===========================================
# Primary model to use (leave empty for default: anthropic/claude-opus-4-6)
# Examples:
#   anthropic/claude-sonnet-4-20250514
#   anthropic/claude-opus-4-6
#   openai/gpt-4o
#   openrouter/anthropic/claude-3.5-sonnet
#   azure/gpt-4o (requires AZURE_OPENAI_* config)
OPENCLAW_MODEL=

# Fallback models (comma-separated, tried in order if primary fails)
# Example: openai/gpt-4o,openrouter/anthropic/claude-3-haiku
OPENCLAW_FALLBACK_MODELS=

# ===========================================
# API KEYS (at least one required)
# ===========================================
# Anthropic API Key - https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-...

# OpenAI API Key (optional) - https://platform.openai.com/api-keys
# Required if using openai/* models
#OPENAI_API_KEY=sk-...

# OpenRouter API Key (optional) - https://openrouter.ai/keys
# Gives access to many models (Claude, GPT, Llama, Mistral, etc.)
#OPENROUTER_API_KEY=sk-or-...

# Azure OpenAI (optional)
#AZURE_OPENAI_API_KEY=...
#AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/

# ===========================================
# REQUIRED: A365 Agentic Credentials
# ===========================================
# From your Azure app registration for Microsoft 365 Agents
# https://portal.azure.com > App registrations > Your App
A365_APP_ID=00000000-0000-0000-0000-000000000000
A365_APP_PASSWORD=your-app-password-here
A365_TENANT_ID=00000000-0000-0000-0000-000000000000

# ===========================================
# REQUIRED: Agentic Blueprint
# ===========================================
# Autonomous Agent Instance ID (from M365 Agents registration)
# This enables Federated Identity Credentials (T1/T2/User flow)
# for acting on behalf of users via the Microsoft 365 Agents SDK
AA_INSTANCE_ID=00000000-0000-0000-0000-000000000000

# ===========================================
# REQUIRED: Identity Configuration
# ===========================================
# UPN of the agent (the bot's identity in your tenant)
AGENT_IDENTITY=agent@yourtenant.onmicrosoft.com

# UPN of the owner (the person this agent supports)
OWNER=owner@yourtenant.onmicrosoft.com

# AAD Object ID of the owner (for role detection)
# Find this in Azure Portal > Azure AD > Users > Your User > Object ID
OWNER_AAD_ID=00000000-0000-0000-0000-000000000000

# ===========================================
# OPTIONAL: Business Hours
# ===========================================
# When the agent considers it "working hours"
BUSINESS_HOURS_START=08:00
BUSINESS_HOURS_END=18:00
TIMEZONE=America/Los_Angeles

# ===========================================
# OPTIONAL: DM Policy
# ===========================================
# Controls who can message the bot directly:
#   - "open": Anyone can message (no restrictions)
#   - "pairing": Unknown users get a pairing code (recommended)
#   - "closed": Only allowlisted users can message
DM_POLICY=pairing

# ===========================================
# OPTIONAL: External Token Service
# ===========================================
# If you prefer to use an external token service instead of T1/T2 flow
# TOKEN_CALLBACK_URL=http://your-token-service:8080/api/token/refresh
# TOKEN_CALLBACK_TOKEN=your-callback-auth-token

# ===========================================
# OPTIONAL: OpenClaw Settings
# ===========================================
OPENCLAW_LOG_LEVEL=info
# OPENCLAW_GATEWAY_TOKEN=your-custom-gateway-token
